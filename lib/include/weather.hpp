/**
 * @file weather.hpp
 * @brief Определение класса Weather и перечисления Phenomen для описания погодных условий.
 *
 * Класс Weather представляет погодные условия в определённый момент времени
 * (например, утром, днём или вечером) и включает температуру и автоматически
 * определяемое погодное явление на основе температуры.
 */

#ifndef WEATHER_HPP
#define WEATHER_HPP

#include <iostream>
#include <stdexcept>

/**
 * @enum Phenomen
 * @brief Перечисление основных типов погодных явлений.
 *
 * Используется для ранжирования погоды на основе температуры.
 * Значения начинаются с 1 для удобства отображения или сериализации.
 */
enum class Phenomen {
    Sunny = 1,  ///< Солнечно (температура > 25°C)
    Cloudy,     ///< Облачно (температура от 0°C до 25°C включительно)
    Rainy,      ///< Дождливо (в текущей реализации не используется)
    Snowy       ///< Снежно (температура < 0°C)
};

/**
 * @class Weather
 * @brief Представляет погодные условия в один из периодов дня.
 *
 * Хранит температуру (в градусах Цельсия) и позволяет получить
 * соответствующее погодное явление, вычисленное по правилам:
 * - < 0°C → Snowy
 * - > 25°C → Sunny
 * - иначе → Cloudy
 *
 * @note Тип `Rainy` определён, но в текущей логике не используется.
 * @note Температура проверяется на физическую корректность (≥ −273°C).
 */
class Weather {
private:
    int temperature; ///< Температура в градусах Цельсия (≥ −273)

public:
    /**
     * @brief Конструктор по умолчанию.
     *
     * Инициализирует температуру значением 0°C (нейтральное состояние).
     */
    Weather();

    /**
     * @brief Устанавливает новую температуру.
     *
     * @param new_temperature Новая температура в градусах Цельсия.
     * @throws std::invalid_argument если температура ниже абсолютного нуля (−273°C).
     */
    void setTemperature(int new_temperature);

    /**
     * @brief Возвращает текущую температуру.
     *
     * @return Температура в градусах Цельсия (int).
     */
    int getTemperature() const;
    
    /**
     * @brief Определяет погодное явление на основе текущей температуры.
     *
     * Правила определения:
     * - если температура < 0 → Phenomen::Snowy
     * - если температура > 25 → Phenomen::Sunny
     * - иначе → Phenomen::Cloudy
     *
     * @return Элемент перечисления Phenomen.
     *
     * @note Phenomen::Rainy в текущей реализации не возвращается.
     */
    Phenomen getPhenomen() const;
};

#endif // WEATHER_HPP